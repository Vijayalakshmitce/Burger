
<h2>Ordered burger</h2>
<ul>
    {{#each burgers}}
    {{#unless devoured}}
 <li>
        {{this.id}}. {{this.burger_name}}
        <button type="submit" data-update="{{this.id}}" class ="update">update</button>
        <button type="submit" data-del="{{this.id}}" class ="delete">delete</button>
    </li>
    {{/unless}}
    {{/each}}
</ul>


<h2>delivered burger</h2>
<ul>
    {{#each burgers}}
    {{#if devoured}}
 <li>
        {{this.id}}. {{this.burger_name}}
        
        
        
    </li>
    {{/if}}
    {{/each}}
</ul>


<h2>create Burger</h2>
<form id="create">
    <textarea name="burgerName" type="text"></textarea>
    <button type="submit" id="createSubmit">Submit</button>
</form>

<script type="text/javascript">

$("#createSubmit").on("click",function(event){
    event.preventDefault();
    var x=$("#create [name=burgerName").val();
    
  console.log(x);
    var newBurgerName ={

        burger_name: $("#create [name=burgerName").val()
    };

$.ajax("/app/burger",{
    type:"POST",
    data:newBurgerName
}).then(function(){
    console.log("Order created");
    location.reload();
});

});

$(".update").on("click",function(event){
    event.preventDefault();
    var id= $(this).data("update");
    var devoured = 1;
    console.log(id);
    var newUpdate ={
        devoured : devoured
    }
console.log(newUpdate)
    $.ajax("/app/burger/" + id,{
        type: "PUT",
        data: newUpdate
        }).then(function(){
            console.log("order delived");
            location.reload();
        });
});



</script>
